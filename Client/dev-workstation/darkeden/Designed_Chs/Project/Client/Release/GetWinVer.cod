; Listing generated by Microsoft (R) Optimizing Compiler Version 13.10.3077 

	TITLE	\darkeden\Designed_Common\Project\Client\GetWinVer.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0CC@MGCJLGBP@Windows?5Server?$CGnbsp?$DL2003?5family?0@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@LCADOHED@Windows?5XP?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0O@DEJBBEMC@Windows?52000?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@MAHIEHNM@Windows?5NT?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0P@DDDLFAPN@Service?5Pack?56?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0DM@GDNDBHFF@SOFTWARE?2Microsoft?2Windows?5NT?2Cu@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BL@LPCBAMOC@Service?5Pack?56a?5?$CIBuild?5?$CFd?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@HPIFHOOO@Windows?595?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_05BMOPIBIL@OSR2?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@HHFNONLN@Windows?598?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03OENGOLCG@SE?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BL@PJJDPFBO@Windows?5Millennium?5Edition?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06EMHLCMIC@Win32s?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0N@GOPDCEEB@basic_string?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
rdata$r	SEGMENT DWORD USE32 PUBLIC 'CONST'
rdata$r	ENDS
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
CRT$XCA	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCA	ENDS
CRT$XCU	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCU	ENDS
CRT$XCL	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCL	ENDS
CRT$XCC	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCC	ENDS
CRT$XCZ	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCZ	ENDS
text$yd	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yd	ENDS
;	COMDAT ?GetWinVersion@@YAHPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?eq@?$__char_traits_base@DH@_STL@@SA_NABD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?not_eof@?$__char_traits_base@DH@_STL@@SAHABH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?eq_int_type@?$__char_traits_base@DH@_STL@@SA_NABH0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_allocator@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QBE?AV?$allocator@D@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_terminate_string@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_String_base@DV?$allocator@D@_STL@@@_STL@@QAE@ABV?$allocator@D@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?allocate@?$allocator@D@_STL@@QAEPADIPBX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$fpos@H@_STL@@QAE@J@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??B?$fpos@H@_STL@@QBEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?state@?$fpos@H@_STL@@QBEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?is_open@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_seek_return@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE?AV?$fpos@H@2@JH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_Filebuf_Tmp_Buf@D@_STL@@QAE@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$_Filebuf_Tmp_Buf@D@_STL@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_terminate_string_aux@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXABU__true_type@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$allocator@D@_STL@@QAE@ABV01@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$_STLP_alloc_proxy@PADDV?$allocator@D@_STL@@@_STL@@QAE@ABV?$allocator@D@1@PAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?state@?$fpos@H@_STL@@QAEXH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_range_initialize@PBD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPBD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_range_initialize@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?close@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@QAEPAV12@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_exit_input_mode@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_switch_to_output_mode@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_output_error@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_allocate_buffers@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE_NPADH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_deallocate_buffers@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_seek_init@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE_N_N@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_setup_codecvt@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAEXABVlocale@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$equal@PADPADU?$_Eq_traits@V?$char_traits@D@_STL@@@_STL@@@_STL@@YA_NPAD00U?$_Eq_traits@V?$char_traits@D@_STL@@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Destroy@V?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@@_STL@@YAXPAV?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_assign_dispatch@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEAAV01@PAD0ABU__false_type@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_G?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QAEPADXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?erase@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QAEPADPAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_exit_putback_mode@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??R?$_Eq_traits@V?$char_traits@D@_STL@@@_STL@@QBE_NABD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?move@?$__char_traits_base@DH@_STL@@SAPADPADPBDI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_range_initialize@PBD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPBD0ABUforward_iterator_tag@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_range_initialize@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPAD0ABUforward_iterator_tag@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_unshift@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_allocate_buffers@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@AAE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$max@H@_STL@@YAABHABH0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$use_facet@V?$codecvt@DDH@_STL@@@_STL@@YAABV?$codecvt@DDH@0@ABVlocale@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$append@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QAEAAV01@PAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$distance@PBD@_STL@@YAHABQBD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_allocate_block@?$_String_base@DV?$allocator@D@_STL@@@_STL@@QAEXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$distance@PAD@_STL@@YAHABQAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$uninitialized_copy@PADPAD@_STL@@YAPADPAD00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_M_append_dispatch@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEAAV01@PAD0ABU__false_type@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$_String_base@DV?$allocator@D@_STL@@@_STL@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$__distance@PBD@_STL@@YAHABQBD0ABUrandom_access_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_throw_length_error@?$_String_base@DV?$allocator@D@_STL@@@_STL@@QBEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$__distance@PAD@_STL@@YAHABQAD0ABUrandom_access_iterator_tag@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$__uninitialized_copy@PADPAD@_STL@@YAPADPAD00ABU__true_type@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$append@PAD@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEAAV01@PAD0ABUforward_iterator_tag@1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_construct_null@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?size@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_size@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?capacity@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QBEIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Ret@?$_BothPtrType@PADPAD@_STL@@SA?AU__true_type@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_construct_null_aux@?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@AAEXPADABU__true_type@2@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$__copy_aux@PADPAD@_STL@@YAPADPAD00ABU__true_type@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$max@I@_STL@@YAABIABI0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Ret@?$_OKToMemCpy@DD@_STL@@SA?AU__true_type@2@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_IsOKToMemCpy@DD@_STL@@YA?AU?$_OKToMemCpy@DD@0@PAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$__copy_ptrs@PADPAD@_STL@@YAPADPAD00ABU__true_type@0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__copy_trivial@_STL@@YAPAXPBX0PAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_deallocate_block@?$_String_base@DV?$allocator@D@_STL@@@_STL@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$allocator@D@_STL@@QAEXPADI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?deallocate@?$__node_alloc@$00$0A@@_STL@@SAXPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__stl_delete@_STL@@YAXPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__page_size@_Filebuf_base@_STL@@SAIXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_M_write@?$basic_filebuf@DV?$char_traits@D@_STL@@@_STL@@QAE_NPADH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?unshift@?$codecvt@DDH@_STL@@QBE?AW4result@codecvt_base@2@AAHPAD1AAPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?uninitialized_copy@_STL@@YAPADPBD0PAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_Destroy@_STL@@YAXPAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$basic_string@DV?$char_traits@D@_STL@@V?$allocator@D@2@@_STL@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$_String_base@DV?$allocator@D@_STL@@@_STL@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?assign@?$char_traits@D@_STL@@SAXAADABD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?always_noconv@?$codecvt@DDH@_STL@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?encoding@?$codecvt@DDH@_STL@@QBEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?max_length@?$codecvt@DDH@_STL@@QBEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__o_mode@_Filebuf_base@_STL@@QBEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?setp@?$basic_streambuf@DV?$char_traits@D@_STL@@@_STL@@IAEXPAD0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_FILE_O_set@_STL@@YAXPAU_iobuf@@PAD11@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_FILE_I_set@_STL@@YAXPAU_iobuf@@PAD11@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?setg@?$basic_streambuf@DV?$char_traits@D@_STL@@@_STL@@IAEXPAD00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__is_open@_Filebuf_base@_STL@@QBE_NXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?allocate@?$__node_alloc@$00$0A@@_STL@@SAPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__stl_new@_STL@@YAPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$_STLP_alloc_proxy@PADDV?$allocator@D@_STL@@@_STL@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$allocator@D@_STL@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?eof@?$__char_traits_base@DH@_STL@@SAHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
sxdata	SEGMENT DWORD USE32 'SXDATA'
sxdata	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?GetWinVersion@@YAHPAD@Z			; GetWinVersion
PUBLIC	??_C@_0CC@MGCJLGBP@Windows?5Server?$CGnbsp?$DL2003?5family?0@ ; `string'
PUBLIC	??_C@_0M@LCADOHED@Windows?5XP?5?$AA@		; `string'
PUBLIC	??_C@_0O@DEJBBEMC@Windows?52000?5?$AA@		; `string'
PUBLIC	??_C@_0M@MAHIEHNM@Windows?5NT?5?$AA@		; `string'
PUBLIC	??_C@_0P@DDDLFAPN@Service?5Pack?56?$AA@		; `string'
PUBLIC	??_C@_0DM@GDNDBHFF@SOFTWARE?2Microsoft?2Windows?5NT?2Cu@ ; `string'
PUBLIC	??_C@_0BL@LPCBAMOC@Service?5Pack?56a?5?$CIBuild?5?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0M@HPIFHOOO@Windows?595?5?$AA@		; `string'
PUBLIC	??_C@_05BMOPIBIL@OSR2?5?$AA@			; `string'
PUBLIC	??_C@_0M@HHFNONLN@Windows?598?5?$AA@		; `string'
PUBLIC	??_C@_03OENGOLCG@SE?5?$AA@			; `string'
PUBLIC	??_C@_0BL@PJJDPFBO@Windows?5Millennium?5Edition?$AA@ ; `string'
PUBLIC	??_C@_06EMHLCMIC@Win32s?$AA@			; `string'
EXTRN	__imp__GetVersionExA@4:NEAR
EXTRN	__imp__lstrcmpiA@8:NEAR
EXTRN	__imp__RegCloseKey@4:NEAR
EXTRN	__imp__RegOpenKeyExA@20:NEAR
EXTRN	_sprintf:NEAR
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:NEAR
EXTRN	_memset:NEAR
EXTRN	_strcat:NEAR
;	COMDAT ??_C@_0CC@MGCJLGBP@Windows?5Server?$CGnbsp?$DL2003?5family?0@
; File c:\darkeden\designed_common\project\client\getwinver.cpp
CONST	SEGMENT
??_C@_0CC@MGCJLGBP@Windows?5Server?$CGnbsp?$DL2003?5family?0@ DB 'Windows'
	DB	' Server&nbsp;2003 family, ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@LCADOHED@Windows?5XP?5?$AA@
CONST	SEGMENT
??_C@_0M@LCADOHED@Windows?5XP?5?$AA@ DB 'Windows XP ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@DEJBBEMC@Windows?52000?5?$AA@
CONST	SEGMENT
??_C@_0O@DEJBBEMC@Windows?52000?5?$AA@ DB 'Windows 2000 ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@MAHIEHNM@Windows?5NT?5?$AA@
CONST	SEGMENT
??_C@_0M@MAHIEHNM@Windows?5NT?5?$AA@ DB 'Windows NT ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@DDDLFAPN@Service?5Pack?56?$AA@
CONST	SEGMENT
??_C@_0P@DDDLFAPN@Service?5Pack?56?$AA@ DB 'Service Pack 6', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DM@GDNDBHFF@SOFTWARE?2Microsoft?2Windows?5NT?2Cu@
CONST	SEGMENT
??_C@_0DM@GDNDBHFF@SOFTWARE?2Microsoft?2Windows?5NT?2Cu@ DB 'SOFTWARE\Mic'
	DB	'rosoft\Windows NT\CurrentVersion\Hotfix\Q246009', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@LPCBAMOC@Service?5Pack?56a?5?$CIBuild?5?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BL@LPCBAMOC@Service?5Pack?56a?5?$CIBuild?5?$CFd?$CJ?$AA@ DB 'Servi'
	DB	'ce Pack 6a (Build %d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@ DB '%s (Build %d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@HPIFHOOO@Windows?595?5?$AA@
CONST	SEGMENT
??_C@_0M@HPIFHOOO@Windows?595?5?$AA@ DB 'Windows 95 ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_05BMOPIBIL@OSR2?5?$AA@
CONST	SEGMENT
??_C@_05BMOPIBIL@OSR2?5?$AA@ DB 'OSR2 ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@HHFNONLN@Windows?598?5?$AA@
CONST	SEGMENT
??_C@_0M@HHFNONLN@Windows?598?5?$AA@ DB 'Windows 98 ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03OENGOLCG@SE?5?$AA@
CONST	SEGMENT
??_C@_03OENGOLCG@SE?5?$AA@ DB 'SE ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@PJJDPFBO@Windows?5Millennium?5Edition?$AA@
CONST	SEGMENT
??_C@_0BL@PJJDPFBO@Windows?5Millennium?5Edition?$AA@ DB 'Windows Millenni'
	DB	'um Edition', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_06EMHLCMIC@Win32s?$AA@
CONST	SEGMENT
??_C@_06EMHLCMIC@Win32s?$AA@ DB 'Win32s', 00H		; `string'
; Function compile flags: /Ogsy
CONST	ENDS
;	COMDAT ?GetWinVersion@@YAHPAD@Z
_TEXT	SEGMENT
_hKey$99407 = -560					; size = 4
_szTemp$ = -556						; size = 512
_osvi$ = -44						; size = 156
__$ArrayPad$ = 112					; size = 4
__$ReturnAddr$ = 120					; size = 4
_szVersion$ = 124					; size = 4
?GetWinVersion@@YAHPAD@Z PROC NEAR			; GetWinVersion, COMDAT

; 4    : {

  00000	55		 push	 ebp
  00001	8d 6c 24 8c	 lea	 ebp, DWORD PTR [esp-116]
  00005	81 ec a4 02 00
	00		 sub	 esp, 676		; 000002a4H
  0000b	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00010	56		 push	 esi
  00011	57		 push	 edi

; 5    :    OSVERSIONINFOEX osvi;
; 6    :    BOOL bOsVersionInfoEx;
; 7    : 
; 8    :    // Try calling GetVersionEx using the OSVERSIONINFOEX structure.
; 9    :    // If that fails, try using the OSVERSIONINFO structure.
; 10   : 
; 11   :    ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));

  00012	be 9c 00 00 00	 mov	 esi, 156		; 0000009cH
  00017	56		 push	 esi
  00018	89 45 70	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0001b	33 ff		 xor	 edi, edi
  0001d	8d 45 d4	 lea	 eax, DWORD PTR _osvi$[ebp]
  00020	57		 push	 edi
  00021	50		 push	 eax
  00022	e8 00 00 00 00	 call	 _memset
  00027	83 c4 0c	 add	 esp, 12			; 0000000cH

; 12   :    osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);
; 13   : 
; 14   :    if( !(bOsVersionInfoEx = GetVersionEx ((OSVERSIONINFO *) &osvi)) )

  0002a	8d 45 d4	 lea	 eax, DWORD PTR _osvi$[ebp]
  0002d	89 75 d4	 mov	 DWORD PTR _osvi$[ebp], esi
  00030	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__GetVersionExA@4
  00036	50		 push	 eax
  00037	ff d6		 call	 esi
  00039	85 c0		 test	 eax, eax
  0003b	75 15		 jne	 SHORT $L99389

; 15   :    {
; 16   :       osvi.dwOSVersionInfoSize = sizeof (OSVERSIONINFO);
; 17   :       if (! GetVersionEx ( (OSVERSIONINFO *) &osvi) ) 

  0003d	8d 45 d4	 lea	 eax, DWORD PTR _osvi$[ebp]
  00040	50		 push	 eax
  00041	c7 45 d4 94 00
	00 00		 mov	 DWORD PTR _osvi$[ebp], 148 ; 00000094H
  00048	ff d6		 call	 esi
  0004a	85 c0		 test	 eax, eax
  0004c	0f 84 e1 01 00
	00		 je	 $L99380
$L99389:

; 18   :          return FALSE;
; 19   :    }
; 20   :    char szTemp[512];
; 21   : 
; 22   :    switch (osvi.dwPlatformId)

  00052	8b 45 e4	 mov	 eax, DWORD PTR _osvi$[ebp+16]
  00055	2b c7		 sub	 eax, edi
  00057	0f 84 c4 01 00
	00		 je	 $L99430
  0005d	48		 dec	 eax
  0005e	0f 84 49 01 00
	00		 je	 $L99418
  00064	48		 dec	 eax
  00065	0f 85 c5 01 00
	00		 jne	 $L99392

; 23   :    {
; 24   :       // Test for the Windows NT product family.
; 25   :       case VER_PLATFORM_WIN32_NT:
; 26   : 
; 27   :          // Test for the specific product family.
; 28   :          if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 2 )

  0006b	83 7d d8 05	 cmp	 DWORD PTR _osvi$[ebp+4], 5
  0006f	8b 75 7c	 mov	 esi, DWORD PTR _szVersion$[ebp]
  00072	75 48		 jne	 SHORT $L99400
  00074	83 7d dc 02	 cmp	 DWORD PTR _osvi$[ebp+8], 2
  00078	75 13		 jne	 SHORT $L100046

; 29   :             strcat (szVersion, "Windows Server&nbsp;2003 family, ");

  0007a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CC@MGCJLGBP@Windows?5Server?$CGnbsp?$DL2003?5family?0@
  0007f	56		 push	 esi
  00080	e8 00 00 00 00	 call	 _strcat

; 30   : 
; 31   :          if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 1 )

  00085	83 7d d8 05	 cmp	 DWORD PTR _osvi$[ebp+4], 5
  00089	59		 pop	 ecx
  0008a	59		 pop	 ecx
  0008b	75 2f		 jne	 SHORT $L99400
$L100046:
  0008d	83 7d dc 01	 cmp	 DWORD PTR _osvi$[ebp+8], 1
  00091	75 13		 jne	 SHORT $L100047

; 32   :             strcat (szVersion, "Windows XP ");

  00093	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@LCADOHED@Windows?5XP?5?$AA@
  00098	56		 push	 esi
  00099	e8 00 00 00 00	 call	 _strcat

; 33   : 
; 34   :          if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 0 )

  0009e	83 7d d8 05	 cmp	 DWORD PTR _osvi$[ebp+4], 5
  000a2	59		 pop	 ecx
  000a3	59		 pop	 ecx
  000a4	75 16		 jne	 SHORT $L99400
$L100047:
  000a6	39 7d dc	 cmp	 DWORD PTR _osvi$[ebp+8], edi
  000a9	0f 85 cb 00 00
	00		 jne	 $L99405

; 35   :             strcat (szVersion, "Windows 2000 ");

  000af	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@DEJBBEMC@Windows?52000?5?$AA@
  000b4	56		 push	 esi
  000b5	e8 00 00 00 00	 call	 _strcat
  000ba	59		 pop	 ecx
  000bb	59		 pop	 ecx
$L99400:

; 36   : 
; 37   :          if ( osvi.dwMajorVersion <= 4 )

  000bc	83 7d d8 04	 cmp	 DWORD PTR _osvi$[ebp+4], 4
  000c0	0f 87 b4 00 00
	00		 ja	 $L99405

; 38   :             strcat (szVersion, "Windows NT ");

  000c6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@MAHIEHNM@Windows?5NT?5?$AA@
  000cb	56		 push	 esi
  000cc	e8 00 00 00 00	 call	 _strcat

; 39   : 
; 40   :          // Test for specific product on Windows NT 4.0 SP6 and later.
; 41   :          if( bOsVersionInfoEx )
; 42   :          {
; 43   : //            // Test for the workstation type.
; 44   : //            if ( osvi.wProductType == VER_NT_WORKSTATION )
; 45   : //            {
; 46   : //               if( osvi.dwMajorVersion == 4 )
; 47   : //                  strcat (szVersion, "Workstation 4.0 " );
; 48   : //               else if( osvi.wSuiteMask & VER_SUITE_PERSONAL )
; 49   : //                  strcat (szVersion, "Home Edition " );
; 50   : //               else
; 51   : //                  strcat (szVersion, "Professional " );
; 52   : //            }
; 53   : //            
; 54   : //            // Test for the server type.
; 55   : //            else if ( osvi.wProductType == VER_NT_SERVER )
; 56   : //            {
; 57   : //               if( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 2 )
; 58   : //               {
; 59   : //                  if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
; 60   : //                     strcat (szVersion, "Datacenter Edition " );
; 61   : //                  else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
; 62   : //                     strcat (szVersion, "Enterprise Edition " );
; 63   : //                  else if ( osvi.wSuiteMask == VER_SUITE_BLADE )
; 64   : //                     strcat (szVersion, "Web Edition " );
; 65   : //                  else
; 66   : //                     strcat (szVersion, "Standard Edition " );
; 67   : //               }
; 68   : //
; 69   : //               else if( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 0 )
; 70   : //               {
; 71   : //                  if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
; 72   : //                     strcat (szVersion, "Datacenter Server " );
; 73   : //                  else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
; 74   : //                     strcat (szVersion, "Advanced Server " );
; 75   : //                  else
; 76   : //                     strcat (szVersion, "Server " );
; 77   : //               }
; 78   : //
; 79   : //               else  // Windows NT 4.0 
; 80   : //               {
; 81   : //                  if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
; 82   : //                     strcat (szVersion, "Server 4.0, Enterprise Edition " );
; 83   : //                  else
; 84   : //                     strcat (szVersion, "Server 4.0 " );
; 85   : //               }
; 86   : //            }
; 87   :          }
; 88   : //         else  // Test for specific product on Windows NT 4.0 SP5 and earlier
; 89   : //         {
; 90   : //            HKEY hKey;
; 91   : //            char szProductType[BUFSIZE];
; 92   : //            DWORD dwBufLen=BUFSIZE;
; 93   : //            LONG lRet;
; 94   : //
; 95   : //            lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
; 96   : //               "SYSTEM\\CurrentControlSet\\Control\\ProductOptions",
; 97   : //               0, KEY_QUERY_VALUE, &hKey );
; 98   : //            if( lRet != ERROR_SUCCESS )
; 99   : //               return FALSE;
; 100  : //
; 101  : //            lRet = RegQueryValueEx( hKey, "ProductType", NULL, NULL,
; 102  : //               (LPBYTE) szProductType, &dwBufLen);
; 103  : //            if( (lRet != ERROR_SUCCESS) || (dwBufLen > BUFSIZE) )
; 104  : //               return FALSE;
; 105  : //
; 106  : //            RegCloseKey( hKey );
; 107  : //
; 108  : //            if ( lstrcmpi( "WINNT", szProductType) == 0 )
; 109  : //               strcat(szVersion, "Workstation " );
; 110  : //            if ( lstrcmpi( "LANMANNT", szProductType) == 0 )
; 111  : //               strcat(szVersion, "Server " );
; 112  : //            if ( lstrcmpi( "SERVERNT", szProductType) == 0 )
; 113  : //               strcat(szVersion, "Advanced Server " );
; 114  : //
; 115  : //            sprintf(szTemp, "%d.%d ", osvi.dwMajorVersion, osvi.dwMinorVersion );
; 116  : //			strcat(szVersion, szTemp);
; 117  : //         }
; 118  : 
; 119  :       // Display service pack (if any) and build number.
; 120  : 
; 121  :          if( osvi.dwMajorVersion == 4 && 
; 122  :              lstrcmpi( osvi.szCSDVersion, "Service Pack 6" ) == 0 )

  000d1	83 7d d8 04	 cmp	 DWORD PTR _osvi$[ebp+4], 4
  000d5	59		 pop	 ecx
  000d6	59		 pop	 ecx
  000d7	0f 85 9d 00 00
	00		 jne	 $L99405
  000dd	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@DDDLFAPN@Service?5Pack?56?$AA@
  000e2	8d 45 e8	 lea	 eax, DWORD PTR _osvi$[ebp+20]
  000e5	50		 push	 eax
  000e6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcmpiA@8
  000ec	85 c0		 test	 eax, eax
  000ee	0f 85 86 00 00
	00		 jne	 $L99405

; 123  :          {
; 124  :             HKEY hKey;
; 125  :             LONG lRet;
; 126  : 
; 127  :             // Test for SP6 versus SP6a.
; 128  :             lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
; 129  :                "SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Hotfix\\Q246009",
; 130  :                0, KEY_QUERY_VALUE, &hKey );

  000f4	8d 85 d0 fd ff
	ff		 lea	 eax, DWORD PTR _hKey$99407[ebp]
  000fa	50		 push	 eax
  000fb	6a 01		 push	 1
  000fd	57		 push	 edi
  000fe	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DM@GDNDBHFF@SOFTWARE?2Microsoft?2Windows?5NT?2Cu@
  00103	68 02 00 00 80	 push	 -2147483646		; 80000002H
  00108	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__RegOpenKeyExA@20

; 131  :             if( lRet == ERROR_SUCCESS )

  0010e	85 c0		 test	 eax, eax

; 132  : 			{
; 133  : 				sprintf(szTemp, "Service Pack 6a (Build %d)", osvi.dwBuildNumber & 0xFFFF );

  00110	8b 45 e0	 mov	 eax, DWORD PTR _osvi$[ebp+12]
  00113	75 29		 jne	 SHORT $L99413
  00115	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0011a	50		 push	 eax
  0011b	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  00121	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@LPCBAMOC@Service?5Pack?56a?5?$CIBuild?5?$CFd?$CJ?$AA@
  00126	50		 push	 eax
  00127	e8 00 00 00 00	 call	 _sprintf

; 134  : 				strcat(szVersion, szTemp);

  0012c	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  00132	50		 push	 eax
  00133	56		 push	 esi
  00134	e8 00 00 00 00	 call	 _strcat
  00139	83 c4 14	 add	 esp, 20			; 00000014H

; 135  : 			}
; 136  :             else // Windows NT 4.0 prior to SP6a

  0013c	eb 2b		 jmp	 SHORT $L99415
$L99413:

; 137  :             {
; 138  : 				sprintf(szTemp, "%s (Build %d)",
; 139  :                   osvi.szCSDVersion,
; 140  :                   osvi.dwBuildNumber & 0xFFFF);

  0013e	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00143	50		 push	 eax
  00144	8d 45 e8	 lea	 eax, DWORD PTR _osvi$[ebp+20]
  00147	50		 push	 eax
  00148	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  0014e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@
  00153	50		 push	 eax
  00154	e8 00 00 00 00	 call	 _sprintf

; 141  : 				strcat(szVersion, szTemp);

  00159	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  0015f	50		 push	 eax
  00160	56		 push	 esi
  00161	e8 00 00 00 00	 call	 _strcat
  00166	83 c4 18	 add	 esp, 24			; 00000018H
$L99415:

; 142  :             }
; 143  : 
; 144  :             RegCloseKey( hKey );

  00169	ff b5 d0 fd ff
	ff		 push	 DWORD PTR _hKey$99407[ebp]
  0016f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__RegCloseKey@4

; 145  :          }
; 146  :          else // Windows NT 3.51 and earlier or Windows 2000 and later

  00175	e9 b6 00 00 00	 jmp	 $L99392
$L99405:

; 147  :          {
; 148  :             sprintf(szTemp, "%s (Build %d)",
; 149  :                osvi.szCSDVersion,
; 150  :                osvi.dwBuildNumber & 0xFFFF);

  0017a	8b 45 e0	 mov	 eax, DWORD PTR _osvi$[ebp+12]
  0017d	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00182	50		 push	 eax
  00183	8d 45 e8	 lea	 eax, DWORD PTR _osvi$[ebp+20]
  00186	50		 push	 eax
  00187	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  0018d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@CJMKDIPI@?$CFs?5?$CIBuild?5?$CFd?$CJ?$AA@
  00192	50		 push	 eax
  00193	e8 00 00 00 00	 call	 _sprintf

; 151  : 			strcat(szVersion, szTemp);

  00198	8d 85 d4 fd ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  0019e	50		 push	 eax
  0019f	56		 push	 esi
  001a0	e8 00 00 00 00	 call	 _strcat
  001a5	83 c4 18	 add	 esp, 24			; 00000018H

; 152  :          }
; 153  : 
; 154  : 
; 155  :          break;

  001a8	e9 83 00 00 00	 jmp	 $L99392
$L99418:

; 156  : 
; 157  :       // Test for the Windows 95 product family.
; 158  :       case VER_PLATFORM_WIN32_WINDOWS:
; 159  : 
; 160  :          if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 0)

  001ad	83 7d d8 04	 cmp	 DWORD PTR _osvi$[ebp+4], 4
  001b1	75 7d		 jne	 SHORT $L99392
  001b3	39 7d dc	 cmp	 DWORD PTR _osvi$[ebp+8], edi
  001b6	8b 75 7c	 mov	 esi, DWORD PTR _szVersion$[ebp]
  001b9	75 2c		 jne	 SHORT $L100048

; 161  :          {
; 162  :              strcat(szVersion, "Windows 95 ");

  001bb	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@HPIFHOOO@Windows?595?5?$AA@
  001c0	56		 push	 esi
  001c1	e8 00 00 00 00	 call	 _strcat

; 163  :              if ( osvi.szCSDVersion[1] == 'C' || osvi.szCSDVersion[1] == 'B' )

  001c6	80 7d e9 43	 cmp	 BYTE PTR _osvi$[ebp+21], 67 ; 00000043H
  001ca	59		 pop	 ecx
  001cb	59		 pop	 ecx
  001cc	74 06		 je	 SHORT $L99422
  001ce	80 7d e9 42	 cmp	 BYTE PTR _osvi$[ebp+21], 66 ; 00000042H
  001d2	75 0d		 jne	 SHORT $L99421
$L99422:

; 164  :                 strcat(szVersion, "OSR2 " );

  001d4	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_05BMOPIBIL@OSR2?5?$AA@
  001d9	56		 push	 esi
  001da	e8 00 00 00 00	 call	 _strcat
  001df	59		 pop	 ecx
  001e0	59		 pop	 ecx
$L99421:

; 165  :          } 
; 166  : 
; 167  :          if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 10)

  001e1	83 7d d8 04	 cmp	 DWORD PTR _osvi$[ebp+4], 4
  001e5	75 49		 jne	 SHORT $L99392
$L100048:
  001e7	83 7d dc 0a	 cmp	 DWORD PTR _osvi$[ebp+8], 10 ; 0000000aH
  001eb	75 26		 jne	 SHORT $L100049

; 168  :          {
; 169  :              strcat(szVersion, "Windows 98 ");

  001ed	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@HHFNONLN@Windows?598?5?$AA@
  001f2	56		 push	 esi
  001f3	e8 00 00 00 00	 call	 _strcat

; 170  :              if ( osvi.szCSDVersion[1] == 'A' )

  001f8	80 7d e9 41	 cmp	 BYTE PTR _osvi$[ebp+21], 65 ; 00000041H
  001fc	59		 pop	 ecx
  001fd	59		 pop	 ecx
  001fe	75 0d		 jne	 SHORT $L99426

; 171  :                 strcat(szVersion, "SE " );

  00200	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03OENGOLCG@SE?5?$AA@
  00205	56		 push	 esi
  00206	e8 00 00 00 00	 call	 _strcat
  0020b	59		 pop	 ecx
  0020c	59		 pop	 ecx
$L99426:

; 172  :          } 
; 173  : 
; 174  :          if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 90)

  0020d	83 7d d8 04	 cmp	 DWORD PTR _osvi$[ebp+4], 4
  00211	75 1d		 jne	 SHORT $L99392
$L100049:
  00213	83 7d dc 5a	 cmp	 DWORD PTR _osvi$[ebp+8], 90 ; 0000005aH
  00217	75 17		 jne	 SHORT $L99392

; 175  :          {
; 176  :              strcat(szVersion, "Windows Millennium Edition");

  00219	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@PJJDPFBO@Windows?5Millennium?5Edition?$AA@
  0021e	56		 push	 esi

; 177  :          } 
; 178  :          break;

  0021f	eb 08		 jmp	 SHORT $L100054
$L99430:

; 179  : 
; 180  :       case VER_PLATFORM_WIN32s:
; 181  : 
; 182  :          strcat(szVersion, "Win32s");

  00221	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_06EMHLCMIC@Win32s?$AA@
  00226	ff 75 7c	 push	 DWORD PTR _szVersion$[ebp]
$L100054:
  00229	e8 00 00 00 00	 call	 _strcat
  0022e	59		 pop	 ecx
  0022f	59		 pop	 ecx
$L99392:

; 183  :          break;
; 184  :    }
; 185  : 
; 186  :    return TRUE;

  00230	33 c0		 xor	 eax, eax
  00232	40		 inc	 eax
$L99380:

; 187  : }

  00233	8b 4d 70	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00236	5f		 pop	 edi
  00237	5e		 pop	 esi
  00238	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0023d	83 c5 74	 add	 ebp, 116		; 00000074H
  00240	c9		 leave
  00241	c3		 ret	 0
?GetWinVersion@@YAHPAD@Z ENDP				; GetWinVersion
_TEXT	ENDS
END
